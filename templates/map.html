<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mapa</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>

<h2 id="nombre"
    data-lat="{{ lat }}"
    data-lon="{{ lon }}"
    data-nombre="{{ nombre }}">
    {{ nombre }}
</h2>

<div id="map"></div>

<script>
    const titulo = document.getElementById('nombre');

    const lat = parseFloat(titulo.dataset.lat);
    const lon = parseFloat(titulo.dataset.lon);
    const nombre = titulo.dataset.nombre;

    const map = L.map('map').setView([lat, lon], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Â© OpenStreetMap'
    }).addTo(map);

    L.marker([lat, lon])
        .addTo(map)
        .bindPopup(nombre)
        .openPopup();
</script>

</body>
</html>
